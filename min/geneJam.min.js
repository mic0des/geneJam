function mygene_info_gene_query(e){var n=$("#geneSelect2").find(":selected").text(),t="http://mygene.info/v2/query",a=t+"?species="+n+"&limit=100&callback=?&q="+e;$.getJSON(a,mygene_info_gene_query_callback)}function mygene_info_gene_query_callback(e){var n,t=$("#geneSelect2").find(":selected").text();if($("#mygene_info_gene_query_result").empty(),$.isArray(e.hits))n="<p>Found "+e.total+" matched "+t+" gene(s).</p>",e.total>0&&(n+="<table>",$.each(e.hits,function(e,t){n+="<tr><td><a href=\"javascript:showgene('"+t._id+"');\">"+t.symbol+"</a></td><td>"+t.name+"</td></tr>"}),n+="</table>");else{var a=e.error||e.reason||"Invalid query!";n="<p>Error:<pre>&nbsp;"+a+"</pre></p>"}$("#mygene_info_gene_query_result").append(n)}function showgene(e){var n="http://mygene.info/v2/gene/"+e+"?fields=reporter&callback=?";show_loading("#mygene_info_gene_datachart"),$.getJSON(n,mygene_info_get_gene_callback)}function mygene_info_get_gene_callback(e){if($("#mygene_info_gene_datachart").empty(),e&&e.reporter&&e.reporter.Mouse430_2){var n=e.reporter.Mouse430_2;$.isArray(n)||(n=[n]),$.each(n,function(e,n){$("#mygene_info_gene_datachart").append('<img src="http://biogps.org/dataset/4/chart/'+n+'" />')})}else $("#mygene_info_gene_datachart").append("<p>No data available for this gene.</p>")}function show_loading(e){$(e).empty(),$(e).append('<img src="img/loading.gif">')}var geneJam={};$(document).ready(function(){$("#mygene_info_gene_query_form").submit(function(){var e=$("#mygene_info_gene_query_form input[name=query]").val();return e&&(mygene_info_gene_query(e),show_loading("#mygene_info_gene_query_result")),!1})});var compareGene={},animalName=$("#geneSelect3").find(":selected").text(),query=$("#mygene_info_gene_query_form input[name=query]").val(),percent=Math.floor(61*Math.random());compareGene.init=function(){$("#compare").on("click",function(){var e=$("#geneSelect3").find(":selected").text();compareGene.getGenesUno(e),compareGene.getGenesDos(e),$("#comparatron").html(""+percent+" % match")})},compareGene.getGenesUno=function(e){var e=$("#mygene_info_gene_query_form input[name=query]").val(),n=$("#geneSelect2").find(":selected").text();$.ajax({url:"http://mygene.info/v2/query?species="+n+"&limit=100&callback=?&q="+e,type:"GET",dataType:"jsonp",success:function(e){var e=e.hits;console.log(e)}})},compareGene.getGenesDos=function(e){var e=$("#mygene_info_gene_query_form input[name=query]").val(),n=$("#geneSelect3").find(":selected").text();$.ajax({url:"http://mygene.info/v2/query?species="+n+"&limit=100&callback=?&q="+e,type:"GET",dataType:"jsonp",success:function(e){var e=e.hits;console.log(e)}})},$(function(){compareGene.init()});